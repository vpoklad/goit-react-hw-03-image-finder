{"version":3,"sources":["Services/pixabayAPI.js","ImageGallery/ImageGalleryItem.jsx","Modal/Modal.jsx","Loader/Loader.js","ImageGallery/ImageGallery.jsx","Searchbar/Searchbar.jsx","App.js","index.js"],"names":["pixabayAPI","this","api_key","_searchQuery","_page","value","a","url","searchQuery","axios","get","result","data","message","ImageGalleryItem","item","handleImageClick","webformatURL","largeImageURL","tags","className","src","alt","onClick","modalRoot","document","querySelector","Modal","handleOverlayclick","e","target","currentTarget","props","onModalClose","handleEscKey","code","window","addEventListener","removeEventListener","createPortal","Component","MyLoader","viewBox","x","y","rx","ry","width","height","picsearch","ImageGallery","state","searchResults","serchHits","status","largeURL","errorMessage","setState","handleClick","page","search","then","prev","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","er","prevProps","prevState","resetPage","length","total","map","el","id","type","title","text","Searchbar","searchInput","handlerChange","onSubmit","preventDefault","trim","alert","autoComplete","autoFocus","placeholder","onChange","App","searchQue","onFormSubmit","input","ReactDOM","render","StrictMode","getElementById"],"mappings":"oTACqBA,E,WACnB,aAAe,oBACbC,KAAKC,QAAU,qCACfD,KAAKE,aAAe,GACpBF,KAAKG,MAAQ,E,6CAEf,WACE,OAAOH,KAAKE,c,IAEd,SAAgBE,GACd,OAAQJ,KAAKE,aAAeE,I,gBAE9B,WACE,OAAOJ,KAAKG,O,IAEd,SAASC,GACP,OAAQJ,KAAKG,OAASC,I,uBAExB,WACE,OAAQJ,KAAKG,MAAQ,I,2DAGvB,gCAAAE,EAAA,6DACMC,EADN,6EACkFN,KAAKO,YADvF,iBAC2GP,KAAKG,MADhH,4BACyIH,KAAKC,QAD9I,wBAKyBO,IAAMC,IAAIH,GALnC,cAKUI,EALV,OAMUC,EAAOD,EAAOC,KANxB,kBAOWA,GAPX,yDASW,KAAIC,SATf,yD,oECtBa,SAASC,EAAT,GAAuD,IAA3BC,EAA0B,EAA1BA,KAAMC,EAAoB,EAApBA,iBACrCC,EAAuCF,EAAvCE,aAAcC,EAAyBH,EAAzBG,cAAeC,EAAUJ,EAAVI,KACjC,OACA,oBAAIC,UAAU,mBAAd,SACN,qBAAKC,IAAKJ,EAAcK,IAAKH,EAAOI,QAAU,kBAAMP,EAAiBE,IAAgBE,UAAU,6BCHjG,IAAMI,EAAYC,SAASC,cAAc,eAGpBC,E,4MAWnBC,mBAAqB,SAACC,GAElBA,EAAEC,SAAWD,EAAEE,eACjB,EAAKC,MAAMC,gB,EAGbC,aAAe,SAACL,GACC,WAAXA,EAAEM,MACN,EAAKH,MAAMC,gB,uDAlBb,WACEG,OAAOC,iBAAiB,UAAWpC,KAAKiC,gB,kCAI1C,WACEE,OAAOE,oBAAoB,UAAWrC,KAAKiC,gB,oBAe3C,WACI,IAAQhB,EAAkBjB,KAAK+B,MAAvBd,cACJ,OAAOqB,uBAAgB,qBAAKnB,UAAU,UAAUG,QAAUtB,KAAK2B,mBAAxC,SACjC,qBAAKR,UAAU,QAAf,SACE,qBAAKC,IAAKH,EAAeI,IAAI,SAEzBE,O,GA5B2BgB,a,QCGpBC,EAPE,kBACf,cAAC,IAAD,CAAeC,QAAQ,cAAvB,SAEE,sBAAMC,EAAE,IAAIC,EAAE,IAAIC,GAAG,IAAIC,GAAG,IAAIC,MAAM,MAAMC,OAAO,W,QCMjDC,EAAY,IAAIjD,EACDkD,E,4MAEjBC,MAAQ,CACJC,cAAe,GACfC,UAAU,KACVC,OAAQ,OACRC,SAAU,GACVC,aAAc,I,EAyBlBxC,iBAAmB,SAACX,GAChB,EAAKoD,SAAS,CACVF,SAAUlD,EACViD,OAAQ,W,EAGhBrB,aAAe,WACX,EAAKwB,SAAS,CACVH,OAAQ,a,EAGhBI,YAAc,SAAC7B,GACX,EAAK4B,SAAS,CAAEH,OAAQ,YAE1BL,EAAUU,KAAO,EACjBV,EAAUW,SACPC,MAAK,SAAAT,GACJ,EAAKK,UAAS,SAAAK,GAAI,MAAK,CACrBV,cAAc,GAAD,mBAAMU,EAAKV,eAAX,YAA6BA,EAAcW,OACxDT,OAAQ,cACVlB,OAAO4B,SAAS,CACdC,IAAKxC,SAASyC,gBAAgBC,aAC9BC,SAAU,cAGbC,OAAM,SAACC,GAAS,EAAKb,SAAS,CAAEH,OAAQ,QAASE,aAAcc,Q,wDA/CpE,SAAmBC,EAAWC,GAAY,IAAD,OACjCD,IAActE,KAAK+B,QACnB/B,KAAKwD,SAAS,CAAEH,OAAQ,YACxBL,EAAUwB,YACZxB,EAAUzC,YAAcP,KAAK+B,MAAMxB,YACnCyC,EAAUW,SACPC,MAAK,SAAAT,GACAA,EAAcW,KAAKW,OAAS,EAE9B,EAAKjB,SAAS,CAAEL,cAAeA,EAAcW,KAAMV,UAAWD,EAAcuB,MAAOrB,OAAQ,YAG3F,EAAKG,SAAS,CAAEH,OAAQ,QAASE,aAAc,yB,oBAuC7D,WAAU,IAAD,OACR,EAAoEvD,KAAKkD,MAAlEG,EAAP,EAAOA,OAAQF,EAAf,EAAeA,cAAeC,EAA9B,EAA8BA,UAAWE,EAAzC,EAAyCA,SAAUC,EAAnD,EAAmDA,aAClD,MAAe,SAAXF,EACK,oBAAIlC,UAAU,QAAd,qCAEK,YAAXkC,EACK,oBAAIlC,UAAU,eAAd,SACJ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAG,GAAG,GAAG,IAAIwD,KAAI,SAACC,GAAD,OAAQ,cAAC,EAAD,GAAeA,QAEjE,YAAXvB,EAEA,qCACM,oBAAIlC,UAAU,eAAd,SACKgC,EAAcwB,KAAI,SAAAC,GAAE,OAEnB,cAAE/D,EAAF,CAAgCC,KAAM8D,EAAI7D,iBAAoB,EAAKA,kBAA1C6D,EAAGC,SAIhCzB,EAAY,IAAO,wBAAQjC,UAAW,SAAS2D,KAAK,SAASD,GAAG,OAAOvD,QAAStB,KAAKyD,YAAlE,0BAOf,UAAXJ,EACO,cAAC,EAAD,CAAOpC,cAAgBqC,EAAUtB,aAAgBhC,KAAKgC,eAEpD,UAAXqB,EAEM,cAAC,eAAD,CACLyB,KAAK,QACLC,MAAM,QACNC,KAAMzB,SALX,M,GA1FuChB,aCLrB0C,E,4MAEjB/B,MAAQ,CACJgC,YAAa,K,EAGjBC,cAAgB,SAACvD,GACb,EAAK4B,SAAS,CAAE0B,YAAatD,EAAEC,OAAOzB,S,EAG1CgF,SAAW,SAACxD,GAERA,EAAEyD,iBACoC,KAAlC,EAAKnC,MAAMgC,YAAYI,QAI3B,EAAKvD,MAAMqD,SAAS,EAAKlC,MAAMgC,aAC/B,EAAK1B,SAAS,CAAC0B,YAAa,MAJxBK,MAAM,qB,4CAOd,WAEI,OACI,wBAAQpE,UAAU,YAAlB,SACI,uBAAMA,UAAU,aAAaiE,SAAUpF,KAAKoF,SAA5C,UACR,wBAAQN,KAAK,SAAS3D,UAAU,oBAAhC,SACE,sBAAMA,UAAU,0BAAhB,sBAGF,uBACEA,UAAU,mBACVf,MAAOJ,KAAKkD,MAAMgC,YAClBJ,KAAK,SACLU,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SAAU3F,KAAKmF,yB,GArCc5C,a,QCCjCqD,E,4MACJ1C,MAAQ,CACN2C,UAAW,K,EAObC,aAAe,SAAAC,GACb,EAAKvC,SAAS,CACZqC,UAAWE,K,uDANf,c,gCAEA,c,oBAQA,WACE,OACE,sBAAK5E,UAAU,MAAf,UACE,cAAC,EAAD,CAAWiE,SAAUpF,KAAK8F,eAC1B,cAAC,EAAD,CAAcvF,YAAaP,KAAKkD,MAAM2C,YACtC,cAAC,IAAD,W,GApBUtD,aA0BHqD,I,MC3BfI,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF1E,SAAS2E,eAAe,W","file":"static/js/main.72fef6de.chunk.js","sourcesContent":["import axios from 'axios';\nexport default class pixabayAPI {\n  constructor() {\n    this.api_key = '23050146-8315646a187241c7ace27efa4';\n    this._searchQuery = '';\n    this._page = 1;\n  }\n  get searchQuery() {\n    return this._searchQuery;\n  }\n  set searchQuery(value) {\n    return (this._searchQuery = value);\n  }\n  get page() {\n    return this._page;\n  }\n  set page(value) {\n    return (this._page += value);\n  }\n  resetPage() {\n    return (this._page = 1);\n  }\n\n  async search() {\n    let url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this._page}&per_page=15&key=${this.api_key}\n`;\n\n    try {\n      const result = await axios.get(url);\n      const data = result.data;\n      return data;\n    } catch (err) {\n      return err.message;\n    }\n  }\n}\n","import PropTypes from 'prop-types'\r\nexport default function ImageGalleryItem({ item, handleImageClick }) {\r\n    const { webformatURL, largeImageURL, tags, } = item;\r\n        return(\r\n        <li className=\"ImageGalleryItem\" >\r\n  <img src={webformatURL} alt={tags}  onClick ={() => handleImageClick(largeImageURL)} className=\"ImageGalleryItem-image\" />\r\n</li>\r\n    )\r\n};\r\n\r\n\r\nImageGalleryItem.propTypes = {\r\n    item: PropTypes.shape({\r\n        webformatURL: PropTypes.string,    \r\n        largeURL: PropTypes.string,\r\n        tags: PropTypes.string,\r\n    }),\r\n    handleImageClick: PropTypes.func.isRequired,\r\n}","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n\r\nexport default class Modal extends Component{\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscKey)\r\n\r\n    }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscKey)\r\n      \r\n        \r\n    }\r\n  handleOverlayclick = (e) => {\r\n   \r\n  if (e.target === e.currentTarget) {\r\n    this.props.onModalClose()\r\n  }\r\n  }\r\n  handleEscKey = (e) =>{\r\n    if (e.code === \"Escape\") {\r\n    this.props.onModalClose()\r\n  }\r\n  }\r\n    render() {\r\n        const { largeImageURL } = this.props\r\n            return createPortal(   <div className=\"Overlay\" onClick ={this.handleOverlayclick}>\r\n  <div className=\"Modal\" >\r\n    <img src={largeImageURL} alt=\"\" />\r\n  </div>\r\n</div>, modalRoot)\r\n     \r\n    }\r\n}","import ContentLoader from 'react-content-loader';\nconst MyLoader = () => (\n  <ContentLoader viewBox=\"0 0 640 390\">\n    {/* Only SVG shapes */}\n    <rect x=\"0\" y=\"0\" rx=\"5\" ry=\"5\" width=\"640\" height=\"390\" />\n  </ContentLoader>\n);\n\nexport default MyLoader;\n","// import PropTypes from 'prop-types'\r\nimport { Component } from 'react'\r\nimport pixabayAPI from '../Services/pixabayAPI'\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport Modal from '../Modal/Modal';\r\nimport MyLoader from '../Loader/Loader'\r\nimport { Notification } from 'react-pnotify'\r\n\r\n\r\n\r\nconst picsearch = new pixabayAPI();\r\nexport default class ImageGallery extends Component {\r\n    \r\n    state = {\r\n        searchResults: [],\r\n        serchHits:null,\r\n        status: \"init\",\r\n        largeURL: \"\",\r\n        errorMessage: \"\",\r\n    }\r\n    \r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps !== this.props) {\r\n            this.setState({ status: \"pending\" });\r\n            picsearch.resetPage();\r\n          picsearch.searchQuery = this.props.searchQuery;\r\n          picsearch.search()\r\n            .then(searchResults => {\r\n              if (searchResults.hits.length > 0) {\r\n                \r\n                this.setState({ searchResults: searchResults.hits, serchHits: searchResults.total, status: 'success' });\r\n              }\r\n              else {\r\n                this.setState({ status: 'error', errorMessage: \"Nothing found!\"})\r\n              }\r\n            });\r\n           \r\n                \r\n                \r\n        }\r\n    };\r\n    \r\n\r\n    handleImageClick = (value) => {\r\n        this.setState({\r\n            largeURL: value,\r\n            status: 'modal',\r\n        })\r\n    }\r\n    onModalClose = () => {\r\n        this.setState({\r\n            status: 'success',\r\n        })\r\n    }\r\n    handleClick = (e) => {\r\n        this.setState({ status: \"pending\" });\r\n            \r\n      picsearch.page = 1;\r\n      picsearch.search()\r\n        .then(searchResults => {\r\n          this.setState(prev => ({\r\n            searchResults: [...prev.searchResults, ...searchResults.hits],\r\n            status: 'success'}));\r\n          window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n          })\r\n        })\r\n        .catch((er) => { this.setState({ status: 'error', errorMessage: er }) });\r\n        \r\n    }\r\n\r\n  render() {\r\n   const {status, searchResults, serchHits, largeURL, errorMessage } = this.state\r\n    if (status === 'init') {\r\n      return <h1 className=\"title\">Hello! Search something</h1>;\r\n    }\r\n   if (status === 'pending') {\r\n     return <ul className=\"ImageGallery\">\r\n       {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,13,14,15].map((el) => <MyLoader key={el} />)}\r\n     </ul>}\r\n    if (status === 'success') {\r\n      return (\r\n        <>\r\n              <ul className=\"ImageGallery\">\r\n                  {searchResults.map(el => (\r\n                      \r\n                    < ImageGalleryItem key ={el.id} item={el} handleImageClick = {this.handleImageClick} />)                                      \r\n                   \r\n                )}\r\n            </ul>\r\n              {(serchHits > 15) && <button className =\"Button\" type=\"button\" id='more' onClick={this.handleClick}>\r\n                  load more\r\n              </button>}\r\n          \r\n        </>\r\n      );\r\n     }\r\n     if (status === 'modal') {\r\n         return <Modal largeImageURL={ largeURL} onModalClose = {this.onModalClose} />\r\n     }\r\n   if (status === 'error') {\r\n      \r\n      return <Notification\r\n        type='Error'\r\n        title='Error'\r\n        text={errorMessage}\r\n       \r\n      />\r\n    }\r\n  }\r\n\r\n   \r\n}\r\n           \r\n","import PropTypes from 'prop-types'\r\nimport { Component } from 'react'\r\n\r\nimport { Notification } from 'react-pnotify';\r\n \r\n\r\nexport default class Searchbar extends Component {\r\n    \r\n    state = {\r\n        searchInput: \" \",\r\n    };\r\n    \r\n    handlerChange = (e) => {\r\n        this.setState({ searchInput: e.target.value })\r\n    };\r\n\r\n    onSubmit = (e) => {\r\n        \r\n        e.preventDefault()\r\n        if (this.state.searchInput.trim() === \"\") {\r\n            alert('Input something!')\r\n            return              \r\n        }\r\n        this.props.onSubmit(this.state.searchInput)\r\n        this.setState({searchInput: \"\"})\r\n    }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <header className=\"Searchbar\">\r\n                <form className=\"SearchForm\" onSubmit={this.onSubmit}>\r\n        <button type=\"submit\" className=\"SearchForm-button\">\r\n          <span className=\"SearchForm-button-label\">Search</span>\r\n        </button>\r\n    \r\n        <input\r\n          className=\"SearchForm-input\"\r\n          value={this.state.searchInput}\r\n          type=\"search\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handlerChange}\r\n        />\r\n      </form>\r\n    </header>\r\n        )\r\n        \r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n}","// import './App.css';\n\nimport { Component } from 'react/cjs/react.production.min';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Searchbar from './Searchbar/Searchbar';\nimport { ToastContainer, toast } from 'react-toastify';\n\nclass App extends Component {\n  state = {\n    searchQue: ' ',\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate() {}\n\n  onFormSubmit = input => {\n    this.setState({\n      searchQue: input,\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onFormSubmit} />\n        <ImageGallery searchQuery={this.state.searchQue} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport 'modern-normalize/modern-normalize.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n\r\n// // If you want to start measuring performance in your app, pass a function\r\n// // to log results (for example: reportWebVitals(console.log))\r\n// // or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}